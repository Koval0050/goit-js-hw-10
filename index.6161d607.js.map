{"mappings":"YAAA,ICEMA,EAAO,CACXC,YAAaC,SAASC,cAAc,iBACpCC,OAAQF,SAASC,cAAc,WAC/BE,MAAOH,SAASC,cAAc,UAC9BG,QAASJ,SAASC,cAAc,cAElCH,EAAKC,YAAYM,iBAAiB,UAAU,SAAAC,GAE1CR,EAAKK,MAAMI,UAAUC,OAAO,WAG5BV,EAAKI,OAAOK,UAAUE,IAAI,WAC1BX,EAAKM,QAAQG,UAAUE,IAAI,gBAE3B,IDSsBC,EAGhBC,ECZAC,EAAcN,EAAEO,OAAOC,QAAQR,EAAEO,OAAOE,eAAeC,ODSvCN,ECRNE,EDWVD,EAAM,uCAA+CM,OAARP,GAE5CQ,MAAMP,EAAK,CAChBQ,QAAS,CACP,YALF,4EAQCC,MAAK,SAAAC,GACJ,OAAOA,EAASC,M,IAEjBF,MAAK,SAAAG,GAQJ,MAPkB,CAChBC,KAAMD,EAAKC,KACXC,YAAaF,EAAKE,YAClBC,YAAaH,EAAKG,YAClBC,OAAQJ,EAAKK,UACbC,IAAKN,EAAKO,mB,KC1BbV,MAAK,SAAAG,GACJ,IAAKA,EAAKC,OAASD,EAAKE,cAAgBF,EAAKG,YAC3C,MAAMH,EAER,OAAOA,C,IAERH,MAAK,SAAAW,G,IAAGP,EAAIO,EAAJP,KAAMC,EAAWM,EAAXN,YAAaC,EAAWK,EAAXL,YAAaC,EAAMI,EAANJ,OAAQE,EAAGE,EAAHF,IACzCG,EAAM,gCACWf,OADqBO,GAAQ,WAAW,sCAEnBP,OADrBQ,EAAY,0DAEjCR,OAD0CY,EAAI,2BAG7CZ,OAFDU,GAAU,MACX,eAC+BV,OAA7BS,GAAe,cAAc,cAChC5B,EAAKM,QAAQG,UAAUC,OAAO,gBAE9BV,EAAKM,QAAQ6B,UAAYD,C,IAE1BE,OAAM,SAAA/B,GACLgC,QAAQhC,MAAM,mCAA+DA,GAClDiC,MACzB,yHAEFtC,EAAKM,QAAQG,UAAUE,IAAI,gBAG3BX,EAAKK,MAAMI,UAAUE,IAAI,U,IAE1B4B,SAAQ,WAEPvC,EAAKI,OAAOK,UAAUC,OAAO,U,OAKnCV,EAAKI,OAAOK,UAAUE,IAAI,WD9CjBS,MALM,sCAKK,CAChBC,QAAS,CACP,YALF,4EAQCC,MAAK,SAAAC,GACJ,OAAOA,EAASC,M,IAEjBF,MAAK,SAAAG,GAOJ,OAJeA,EAAKe,KAAI,SAAAhC,GAEtB,MADe,CAAEkB,KAAMlB,EAAEkB,KAAMe,GAAIjC,EAAEiC,G,OCqC1CnB,MAAK,SAAAG,GACJ,IAAMiB,EAAoBjB,EAqBJe,KAAI,SAAAhC,GAC1B,MAAO,kBAA2BW,OAATX,EAAEiC,GAAG,MAAWtB,OAAPX,EAAEkB,KAAK,Y,IArBzC1B,EAAKC,YAAY0C,mBAAmB,YAAaD,EAAOE,KAAK,I,IAE9DR,OAAM,SAAA/B,GACLL,EAAKI,OAAOK,UAAUC,OAAO,gBAE7BV,EAAKI,OAAOK,UAAUE,IAAI,WAE1B2B,MACE,gG,IAIHC,SAAQ,WAEPvC,EAAKI,OAAOK,UAAUC,OAAO,WAE7BV,EAAKC,YAAYQ,UAAUC,OAAO,e","sources":["src/js/cat-api.js","src/js/main.js"],"sourcesContent":["const fetchBreeds = () => {\n  const url = `https://api.thecatapi.com/v1/breeds`;\n  const api_key =\n    ' live_AqVAdbSI3iq6qvheU2btDbPvPUx4FhPf0KO84Ew4BtwLMszLCefwpjCjD6X1ksjH';\n  let storedBreeds = [];\n\n  return fetch(url, {\n    headers: {\n      'x-api-key': api_key,\n    },\n  })\n    .then(response => {\n      return response.json();\n    })\n    .then(data => {\n      // console.log(data);\n      //filter to only include those with an `image` object\n      storedBreeds = data.map(e => {\n        const nameId = { name: e.name, id: e.id };\n        return nameId;\n      });\n      return storedBreeds;\n    });\n};\n\nconst fetchCatByBreed = breedId => {\n  const api_key =\n    ' live_AqVAdbSI3iq6qvheU2btDbPvPUx4FhPf0KO84Ew4BtwLMszLCefwpjCjD6X1ksjH';\n  const url = `https://api.thecatapi.com/v1/breeds/${breedId}`;\n\n  return fetch(url, {\n    headers: {\n      'x-api-key': api_key,\n    },\n  })\n    .then(response => {\n      return response.json();\n    })\n    .then(data => {\n      const selectCat = {\n        name: data.name,\n        temperament: data.temperament,\n        description: data.description,\n        imgAlt: data.alt_names,\n        img: data.reference_image_id,\n      };\n      return selectCat;\n    });\n};\n\nexport { fetchBreeds, fetchCatByBreed };\n","import { fetchBreeds, fetchCatByBreed } from './cat-api';\n\nconst refs = {\n  breedSelect: document.querySelector('.breed-select'),\n  loader: document.querySelector('.loader'),\n  error: document.querySelector('.error'),\n  catInfo: document.querySelector('.cat-info'),\n};\nrefs.breedSelect.addEventListener('change', e => {\n  // Hide any previous error message\n  refs.error.classList.remove('visible');\n\n  // Show the loader\n  refs.loader.classList.add('visible');\n  refs.catInfo.classList.add('el_disp_none');\n\n  const optionValue = e.target.options[e.target.selectedIndex].value;\n  fetchCatByBreed(optionValue)\n    .then(data => {\n      if (!data.name || !data.temperament || !data.description) {\n        throw data;\n      }\n      return data;\n    })\n    .then(({ name, temperament, description, imgAlt, img }) => {\n      const cat = `<div class = \"container\"><h2>${name || 'cat name'}</h2>\n    <p><b>Temperament: </b>${temperament}</p>\n    <img src=\"https://cdn2.thecatapi.com/images/${img}.jpg\" width=\"500\" alt=\"${\n        imgAlt || 'cat'\n      }\">\n    <p>${description || 'description'}</p></div>`;\n      refs.catInfo.classList.remove('el_disp_none');\n\n      refs.catInfo.innerHTML = cat;\n    })\n    .catch(error => {\n      console.error('Якогось із параметрів не хватає:', error);\n      alert(\n        'Упс, схоже виникла помилка, спробуйте перезавантажити сторінку, якщо це не допоможе то спробуйте обрати іншого котика'\n      );\n      refs.catInfo.classList.add('el_disp_none');\n\n      // Show the error message\n      refs.error.classList.add('visible');\n    })\n    .finally(() => {\n      // Hide the loader\n      refs.loader.classList.remove('visible');\n    });\n});\n\n// Show the loader when fetching the breed list\nrefs.loader.classList.add('visible');\n\nfetchBreeds()\n  .then(data => {\n    const option = showSelect(data);\n    refs.breedSelect.insertAdjacentHTML('beforeend', option.join(''));\n  })\n  .catch(error => {\n    refs.loader.classList.remove('el_disp_none');\n\n    refs.loader.classList.add('visible');\n\n    alert(\n      'Упс, схоже сайт не працює або у вас проблеми з інтернетом, спробуйте перезавантажити сторінку'\n    );\n    // console.error('er', error);\n  })\n  .finally(() => {\n    // Hide the loader\n    refs.loader.classList.remove('visible');\n    // Show the breed select\n    refs.breedSelect.classList.remove('el_disp_none');\n  });\n\nfunction showSelect(massName) {\n  const option = massName.map(e => {\n    return `<option value=\"${e.id}\">${e.name}</option>`;\n  });\n  return option;\n}\n"],"names":["$089c40fcbb903d20$var$refs","breedSelect","document","querySelector","loader","error","catInfo","addEventListener","e","classList","remove","add","breedId","url","optionValue","target","options","selectedIndex","value","concat","fetch","headers","then","response","json","data","name","temperament","description","imgAlt","alt_names","img","reference_image_id","param","cat","innerHTML","catch","console","alert","finally","map","id","option","insertAdjacentHTML","join"],"version":3,"file":"index.6161d607.js.map"}